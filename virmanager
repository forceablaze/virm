#!/usr/bin/env node

const program = require('commander');
import SubProcess from './module/process';
import Manager from './manager';

const manager = Manager.getInstance();
const WORKING_DIR = __dirname;

program
    .version('1.0.0')
    .description('A Manager to manage virtual machine')
    .option('-u --uuid [uuid]', 'the uuid of virtual machine')
    .option('-n --name [name]', 'the name of virtual machine')
    .option('-d --dir [dir]', 'the working directory')

program
    .command('list [category]')
    .alias('l')
    .action(function(category, options) {
        manager.list(category);
    })

program
    .command('create [item]')
    .alias('c')
    .action(function(item, options) {
        console.log("create");
        if(item == 'vm') {
            manager.createVM(program.name);
        }
        else if(item == 'pci') {
        }
    })

program
    .command('start [device]')
    .alias('s')
    .action(function(device) {
        if(program.uuid != undefined)
            manager.start(device, program.uuid);
    });

program.parse(process.argv);
